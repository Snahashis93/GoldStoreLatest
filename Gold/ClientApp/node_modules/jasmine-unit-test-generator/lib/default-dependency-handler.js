"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const helpers_1 = require("./helpers");
exports.default = {
    run(result, dep, options) {
        const usedMethods = helpers_1.getUsedMethods(options.sourceCode, dep.name);
        result.declarations.push({
            name: options.variableName,
            type: `jasmine.SpyObj<${dep.type || 'any'}>`
        });
        result.initializers.push({
            name: options.variableName,
            value: `jasmine.createSpyObj<${dep.type || 'any'}>(${options.quoteSymbol}${dep.type === 'any' || !dep.type ? dep.name : dep.type}${options.quoteSymbol}, [${usedMethods.map(m => (options.quoteSymbol + m + options.quoteSymbol)).join(`, `)}])`
        });
        result.dependencies.push({
            name: options.variableName,
            token: options.injectionToken || 'no-token'
        });
    },
    test(_dep) {
        return true;
    }
};
